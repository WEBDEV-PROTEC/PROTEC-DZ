<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="report_product_catalog" name="report_product_catalog">
        <t t-if="o and 'company_id' in o">
            <t t-set="company" t-value="o.company_id" />
        </t>
        <t t-if="not o or not 'company_id' in o">
            <t t-set="company" t-value="res_company" />
        </t>
        <div class="header">
            <div class="row" style="background-image: url(/product_catalogue/static/img/footer2.png);height: 140px; background-repeat: no-repeat; background-size: cover; background-position: top;">
                <div class="col-4">
                    <img style="max-height: 54px; margin: 10px 0 0 10px" src="/product_catalogue/static/img/logo-gray.png" />
                </div>
                <div class="col-8">
                    <div style="margin: 5px 0 0 10px; color: #f1f1f1; float: right; text-align: left;"> 
                        Contact your sales department now:<br/>+213 550.900.360/363/364<br/>
                        For more details visit:  www.protec-dz.com
                    </div> 
                </div>
            </div>
        </div>
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <!--Start old loop -->
                <div class="page" style="background:none"> 
                    <table class="table" style="background-color:  #FFFFFF">
                        <tbody>
                            <!--Start loop -->
                            <t t-foreach="docs" t-as="o">
                                <tr>
                                    <td>
                                        <div class="col-12 text-center">
                                            <img t-if="o.product_brand_ept_id.logo" t-att-src="'data:image/png;base64,%s' % to_text(o.product_brand_ept_id.logo)" style="max-width: 64px; margin-bottom: 8px" />
                                            <br/>
                                            <img t-if="o.image_1024" t-att-src="'data:image/png;base64,%s' % to_text(o.image_1024)" style="max-height: 64px;" />
                                        </div>
                                        
                                    </td>
                                    <td>
                                        <div style="padding: 4px 0;" class="tags"> 
                                            <span class="tag" t-foreach="o.dr_tag_ids" t-as="tag" > 
                                                <img class="tag-image" t-if="tag.image" t-attf-src="data:image/gif;base64, #{tag.image}" alt="category.name"/>
                                                <a t-else="" t-field="tag.name"/> 
                                            </span>
                                        </div>
                                        <t t-if="o.categ_id">
                                            <span style="font-size: 24px; white-space: nowrap; color: #2FA4FF" t-field="o.categ_id.name" />
                                        </t>
<!--                                         <t t-if="o.public_categ_ids">
                                        <t t-foreach="o.public_categ_ids" t-as="c">
                                            <t t-set="rec" t-value="request.env['product.public.category'].sudo().search([('id', '=', c.id)])"/>
                                                <li class="breadcrumb-item">
                                                    <span class="product_catg_breadcrumb" t-esc="rec.name"/>
                                                </li>
                                            </t>
                                        </t> -->
                                        <br/>
                                        <t t-if="o.name">
                                            <span style="font-weight: bold;font-size: 14px; white-space: normal; color: #222222" t-field="o.name" />
                                        </t>
                                        <br/><span t-if="o.default_code" style="font-weight: bold; font-size: 14px" t-field="o.default_code" />
                                        <p t-else=""></p>
                                          <t t-if="len(o.product_variant_ids) &gt; 1">
                                            <ul style="padding: 0; margin:0; list-style: none"> 
                                                <li t-foreach="o.product_variant_ids" t-as="v"> 
                                                    <t t-if="v.default_code">
                                                        <span style="font-size: 13px" t-field="v.default_code" />
                                                    </t>
                                                    <t t-if="v.product_template_attribute_value_ids">
                                                        <span style="font-size: 12px; white-space: nowrap; color: #2FA4FF" t-field="v.product_template_attribute_value_ids" />
                                                    </t>
                                                </li>
                                            </ul>
                                        </t>
<!--                                         <t t-if="len(o.attribute_line_ids) &gt; 1">
                                            <span style="font-size: 12px; white-space: nowrap;" t-field="o.attribute_line_ids.value_ids" />
                                        </t> -->
                                    </td>
                                    <td>
                                        <div class="col-12 d-flex" style="flex-direction: column; margin-top: 20px">
                                            <t t-if="o.list_price">
                                                <span style="background-color:#EDEDED; padding: 5px; align-self: flex-end; font-family: 'sans-serif'; font-weight: 500" t-field="o.list_price" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.company_id.currency_id}" />
                                            </t>
                                        </div>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
                <p style="page-break-after: always;" />
                <style>
                    :root {
                        /* Theme */
                        --primary-color: #1662f3;
                        --light-color: #d0dffc;
                        --dark-color: #283b70;
                        --regular-font: 'Inter', sans-serif;
                    }
                    
                    .top-bg {
                      height: 40px;
                      background-image: url(/product_catalogue/static/img/footer.png);
                      background-repeat: no-repeat;
                      background-size: cover;
                      background-position: top;
                    }
                                        
                    td, tbody {
                        background:none
                    }

                    .tags {
                        margin-right: 6px;
                        padding: 0;
                        list-style-type: none;
                        display: flex;
                        flex-directon: row
                        gap: 2rem;
                        flex-wrap: wrap;
                    }

                    .tag {
                        --color: var(--light-color);
                        font-family: var(--regular-font);
                        font-size: .9rem;
                        border-radius: 100rem;
                        /* box-shadow: 0 0 0 1.5px var(--light-color); */
                        background-color: transparent;
                        color: #0095ed;
                        font-weight: bold;
<!--                         transition: background-color 250ms ease, box-shadow 314ms ease; -->
                        width: fit-content;
                        margin-right: 16px
                    }

                    .tag>a {
                        display: inline-block;
                        position: relative;
                        color: var(--dark-color);
                        text-decoration: none;
                        padding: 0.5rem;
                    }

                    .tag-image {
                        max-height: 24px;
                    }

                    .te_product_brand_img {
                        max-width: 130px;
                        margin-right: 15px;
                        margin: 15px 0px 7px;
                    }
                </style>
            </t>
        </t>
    </template>
</odoo>