<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="sh_website_category_page_assets_frontend" inherit_id="website.assets_frontend" name="Website Category Page Assets">
            <xpath expr="link[last()]" position="after">
                <link rel="stylesheet" type="text/css" href="/sh_website_category_page/static/src/css/sh_website_category_page.css"/>
                <link rel="stylesheet" type="text/css" href="/sh_website_category_page/static/src/css/sh_website_category.css"/>
            </xpath>
        </template>
        <template id="sh_website_category_page_description" inherit_id="website_sale.products" customize_show="True" name="Category Description">
            <xpath expr="//div[hasclass('products_pager')]" position="before">
                <section t-if="not website.category_header_style" id="no_category_style">
                    <div class="container">
                    <div class="row">
                        <div class="col-md-3"/>
                            <div class="col-md-9">
                                <strong>
                                <span t-if="category" t-field="category.name"/><br/>
                                <span t-if="category" t-field="category.description"/>
                                </strong> 
                            </div>
                        </div>
                    </div>
                </section>
                <!--category_dec-with-img-style-1-->
                <section t-if="website.category_header_style and website.category_header_style=='style1'" id="sh_category_dec">
                    <div t-if="category" class="row sub_category">
                        <div class="col-12 col-md-6 col-lg-6">
                            <div class="sh_category_detail">
                                <h4 class="sh_category_title">
                                    <span t-if="category.name" t-field="category.name"/>
                                </h4>
                                <p class="desc" t-if="category.description" t-field="category.description"/>
                            </div>
                        </div>
                        <div class="col-12 col-md-6 col-lg-6">
                            <div class="sh_category_inner mb-3 text-center">
                                <div class="sh_category_img">
                                    <!--<img t-if="category.image_128" t-attf-src="data:image/gif;base64, #{category.image_128}" alt="category.name"/>  -->
                                    <img t-if="category.image_1920" t-attf-src="data:image/gif;base64, #{category.image_1920}" alt="category.name"/> 
                                    <img t-if="not category.image_128" src="/sh_website_category_page/static/src/img/default.png" alt="Default Image"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!--category_dec-with-img-style-1-->
                <!--category_dec-without-img-style-2-->
                <section t-if="website.category_header_style and website.category_header_style=='style2'" id="sh_category_dec">
                    <div class="container">
                        <div t-if="category" class=" row sub_category">
                            <div t-if="category.name" class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                                <div class="sh_category_detail">
                                    <!--                     					<h4 class="sh_category_title">
                                        <span t-if="category.name" t-field="category.name"/>
                                        </h4> -->
                                    <!--                     					<p class="desc" t-if="category.description" t-field="category.description"/> -->
                                    <img t-if="category.dr_category_cover_image" t-attf-src="data:image/gif;base64, #{category.dr_category_cover_image}" alt="category.name"/> 
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!--category_dec-without-img-style-2-->
                <!--category_dec-background-img-style-3-->
                <section t-if="website.category_header_style and website.category_header_style=='style3'" id="sh_content">
                    <div class="d-inline">
                        <div t-if="category" class="row">
                            <!--                             <ul class="caption-style">
                                <li>
                                    <a href="#" class="container-profile-dark">
                                        <div class="inner-content">
                                            <div class="sh_rounded_img">
                                                <img t-if="category.image_128" t-attf-src="data:image/gif;base64, #{category.image_128}" alt="category.name"/>
                                                <img t-if="not category.image_128" src="/sh_website_category_page/static/src/img/default.png" alt="Default Image"/>						             		
                                            </div>
                                            <div class="caption-bg">
                                            </div>
                                            <h2><span t-if="category" t-field="category.name"/></h2>
                                            <p class="desc" t-if="category" t-field="category.description"/>
                                        </div>
                                    </a>
                                </li>
                                </ul> -->
                            <div class="col-12">
                                <!--                                 <img t-if="category.dr_category_cover_image" t-attf-src="data:image/gif;base64, #{category.dr_category_cover_image}" alt="category.name" style="width: 100%;"/> -->
                                <div t-if="category.dr_category_cover_image" class="position-relative full-img" t-attf-style="background-image: url('data:image/png;base64, #{category.dr_category_cover_image}">
                                    <div class="cat-title-container">
                                        <h2><span t-if="category" t-field="category.name"/></h2>
                                        <p class="desc" t-if="category" t-field="category.description"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!--category_dec-background-img-style-3-->
                <!--sh_category Sub Category-->
                <t t-if="category">
                    <t t-set="product_category" t-value="request.env['product.public.category'].sudo().search([('show_category','=',True),('parent_id','=',category.id)],order ='sequence asc')"/>
                    <t t-if="product_category">
                        <section t-if="website.sub_category_style and website.sub_category_style == 'style1'" id="sh_category" style="border-bottom: 1px solid #818181;">
                            <div class="container">
                                <div class="row sh_sub_category">
                                    <t t-foreach="product_category" t-as="rec">
                                        <div class="col-md-2 col-lg-2 col-sm-4 col-xs-4">
                                            <a t-att-href="'/shop/category/%s' % (rec.id)">
                                                <figure class="sh_effect">
                                                    <div class="">
                                                        <img t-if="rec.image_128" t-attf-src="data:image/gif;base64, #{rec.image_128}"  alt="rec.name"/>
                                                        <img t-if="not rec.image_128" src="/sh_website_category_page/static/src/img/default.png" alt="Default Image"/>																	
                                                    </div>
                                                    <figcaption  class="">
                                                        <h2 t-if="rec.name" t-field="rec.name"/>
                                                        <!-- <span t-if="rec.description" t-field="rec.description"/> -->
                                                    </figcaption>
                                                </figure>
                                            </a>
                                        </div>
                                    </t>
                                </div>
                            </div>
                        </section>
                        <style>.row.mt-3 { display: none!important;} .products_pager.form-inline.justify-content-center {display: none!important;}</style>
                    </t>
                </t>
                <!-- sh_compan subcategory 2 -->
                <t t-if="category">
                    <t t-set="product_category" t-value="request.env['product.public.category'].sudo().search([('show_category','=',True),('parent_id','=',category.id)],order ='sequence asc')"/>
                    <t t-if="product_category">
                        <section t-if="website.sub_category_style and website.sub_category_style == 'style2'" id="sh_company" style="border-bottom: 1px solid #818181;" class="d-none d-md-block d-lg-block">
                            <div class="container">
                                <div class="row sub_company" >
                                    <t t-foreach="product_category" t-as="rec">
                                        <div class="col-lg-3 col-md-4 col-sm-12 col-xs-6">
                                            <div class="d-none d-md-block d-lg-block">
                                                <div class="main_box">
                                                    <div class=" img_box">
                                                        <div class="img_box_inner card-hover">
                                                            <a t-att-href="'/shop/category/%s' % (rec.id)">
                                                                <div class="comp_img">
                                                                    <img t-if="rec.image_128" t-attf-src="data:image/gif;base64, #{rec.image_128}" alt="rec.name"/>
                                                                    <img t-if="not rec.image_128" src="/sh_website_category_page/static/src/img/default.png" alt="Default Image"/>				  								   		
                                                                </div>
                                                                <div class="comp_content_sub_category">
                                                                    <h4 class="title"><span t-if="rec.name" t-field="rec.name"/></h4>
                                                                    <div class="comp_dec">
                                                                        <p t-if="rec.description" t-field="rec.description"/>							                              
                                                                    </div>
                                                                </div>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </t>
                                </div>
                            </div>
                        </section>
                        <style>.row.mt-3 { display: none!important;}</style>
                    </t>
                </t>
                <!--sh_compan-->
                <!--shop_category_1 sub category 3 -->
                <t t-if="category">
                    <t t-set="product_category" t-value="request.env['product.public.category'].sudo().search([('show_category','=',True),('parent_id','=',category.id)],order ='sequence asc')"/>
                    <t t-if="product_category">
                        <section t-if="website.sub_category_style and website.sub_category_style == 'style3'" id="shop_category_1" style="border-bottom: 1px solid #818181;   ">
                            <div class="container">
                                <div class="row">
                                    <t t-foreach="product_category" t-as="rec">
                                        <div class="col-md-4 col-lg-4 col-sm-12 col-xs-6">
                                            <a t-att-href="'/shop/category/%s' % (rec.id)">
                                                <div class="shop_cate">
                                                    <div class="img_box">
                                                        <img t-if="rec.image_128" t-attf-src="data:image/gif;base64, #{rec.image_128}" alt="rec.name"/>
                                                        <img t-if="not rec.image_128" src="/sh_website_category_page/static/src/img/default.png" alt="Default Image"/>													
                                                    </div>
                                                    <div class="sh_text">
                                                        <h4><span t-if="rec.name" t-field="rec.name"/></h4>
                                                    </div>
                                                    <div class="cate_menu">
                                                        <div class="menu_title">
                                                            <span t-if="rec.name" t-field="rec.name"/>
                                                        </div>
                                                        <p class="site_cate" t-if="rec.description" t-field="rec.description"/>
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                    </t>
                                </div>
                            </div>
                        </section>
                        <style>.row.mt-3 { display: none!important;}</style>
                    </t>
                </t>
                <!--shop_category_1 sub category 4 -->
                <t t-if="category">
                    <t t-set="product_category" t-value="request.env['product.public.category'].sudo().search([('show_category','=',True),('parent_id','=',category.id)],order ='sequence asc')"/>
                    <t t-if="product_category">
                        <section t-if="website.sub_category_style and website.sub_category_style == 'style4'" style="width:100%;position:relative;border-bottom: 1px solid #818181; padding: 0px 0px 20px;margin-bottom: 25px;">
                            <div class="container">
                                <div class="row chh" style="justify-content: center;">
                                    <t t-foreach="product_category" t-as="rec">
                                        <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-xs-12">
                                            <a t-att-href="'/shop/category/%s' % (rec.id)">
                                                <p class="sh_gradient">	
                                                    <span t-if="rec.name" t-field="rec.name"/> 
                                                </p>
                                            </a>
                                        </div>
                                    </t>
                                </div>
                            </div>
                        </section>
                        <style>.row.mt-3 { display: none!important;}</style>
                    </t>
                </t>
            </xpath>
        </template>
        <record id="website_shopby_category" model="ir.ui.view">
            <field name="name">Shop By Category</field>
            <field name="type">qweb</field>
            <field name="key">website.shopby_category</field>
            <field name="arch" type="xml">
                <t name="Shop By Category" t-name="website.shopby_category">
                    <t t-call="website.layout">
                        <div id="wrap">
                            <!-- multi website -->
                            <t t-set="multiwebsite_domain" t-value="request.website.website_domain()" />
                            <t t-set="category_domain" t-value="[('show_category','=',True),('parent_id','=',False)]" />
                            <t t-set="product_category" t-value="request.env['product.public.category'].sudo().search(category_domain +  multiwebsite_domain, order ='sequence asc')" />
                            <section t-if="not website.category_style" id="no_page_style">
                                <div class="container">
                                    <div class="row">
                                        <div class="sh_title">
                                            <div class="sh_description">
                                            </div>
                                            <h3>Trouvez votre produit parmi nos catégories</h3>
                                        </div>
                                        <t t-if="product_category">
                                            <t t-foreach="product_category" t-as="rec">
                                                <div class="col-md-6 col-lg-6 col-sm-12 col-xs-12" >
                                                    <div>
                                                        <a t-att-href="'/shop/category/%s' % (rec.id)">
                                                            <figure>
                                                                <img t-if="rec.image_128" t-attf-src="data:image/gif;base64, #{rec.image_128}" alt="rec.name"/>
                                                                <img t-if="not rec.image_128" src="/sh_website_category_page/static/src/img/default.png" alt="Default Image"/>	
                                                                <figcaption>
                                                                    <span  t-if="website._get_dr_theme_config('json_shop_filters')['show_attrib_count'] and get_brands_count.get(brand.id)">
                                                                        <t t-esc="get_brands_count.get(brand.id)" />
                                                                    </span>
                                                                    <h2><span t-if="rec.name" t-field="rec.name"/></h2>
                                                                    <p> <span t-if="rec.description" t-field="rec.description"/></p>
                                                                </figcaption>
                                                            </figure>
                                                        </a>
                                                    </div>
                                                </div>
                                            </t>
                                        </t>
                                    </div>
                                </div>
                            </section>
                            <!--sh_category-->
                            <section t-if="website.category_style and website.category_style=='style1'" id="sh_category" >
                                <div class="container">
                                    <div class="sh_title">
                                        <div class="sh_description">
                                        </div>
                                        <h2>categories</h2>
                                    </div>
                                    <div class="row sh_sub_category">
                                        <t t-if="product_category" >
                                            <t t-foreach="product_category" t-as="rec">
                                                <div class="col-md-6 col-lg-6 col-sm-12 col-xs-12">
                                                    <a t-att-href="'/shop/category/%s' % (rec.id)">
                                                        <figure class="sh_effect">
                                                            <div class="">
                                                                <img t-if="rec.image_128" t-attf-src="data:image/gif;base64, #{rec.image_128}"  alt="rec.name"/>
                                                                <img t-if="not rec.image_128" src="/sh_website_category_page/static/src/img/default.png" alt="Default Image"/>																	
                                                            </div>
                                                            <figcaption>
                                                                <h2 t-if="rec.name" t-field="rec.name"/>
                                                                <span t-if="rec.description" t-field="rec.description"/>
                                                                <span  t-if="website._get_dr_theme_config('json_shop_filters')['show_attrib_count'] and get_brands_count.get(brand.id)">
                                                                    <t t-esc="get_brands_count.get(brand.id)" />
                                                                </span>
                                                            </figcaption>
                                                        </figure>
                                                    </a>
                                                </div>
                                            </t>
                                        </t>
                                    </div>
                                </div>
                            </section>
                            <!--sh_category-->
                            <!--sh_compan-->
                            <section  t-if="website.category_style and website.category_style=='style2'" id="sh_company">
                                <div class="container">
                                    <div class="sh_title">
                                        <div class="sh_description">
                                        </div>
                                        <h2>CATÉGORIES DE PRODUITS</h2>
                                    </div>
                                    <div t-if="product_category" class="row sub_company">
                                        <t t-foreach="product_category" t-as="rec">
                                            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-6">
                                                <a t-att-href="'/shop/category/%s' % (rec.id)">
                                                    <div class="card card-hover mb-3" style="max-width: 540px; border-radius: 8px; min-height: 170px;">
                                                        <div class="card-body">
                                                            <div class="row no-gutters">
                                                                <div class="col-md-4">
                                                                    <div class="comp_img">
                                                                        <img t-if="rec.image_128" t-attf-src="data:image/gif;base64, #{rec.image_128}" alt="rec.name"/>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-8">
                                                                    <div class="comp_content">
                                                                        <h5 class="title" style="font-size: 16px"><span t-if="rec.name" t-field="rec.name"/></h5>
                                                                        <div class="comp_dec">
                                                                            <p t-if="rec.description" t-field="rec.description"/>							                              
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </a>
                                                <!-- <div class=" main_box">
                                                    <div class=" img_box">
                                                        <div class="img_box_inner">
                                                            
                                                            <a t-att-href="'/shop/category/%s' % (rec.id)">
                                                                <div class="comp_img">
                                                                    <img t-if="rec.image_128" t-attf-src="data:image/gif;base64, #{rec.image_128}" alt="rec.name"/>
                                                                    <img t-if="not rec.image_128" src="/sh_website_category_page/static/src/img/default.png" alt="Default Image"/>										                         
                                                                </div>
                                                                <div class="comp_content">
                                                                    <h4 class="title"><span t-if="rec.name" t-field="rec.name"/></h4>
                                                                    <div class="comp_dec">
                                                                        <p t-if="rec.description" t-field="rec.description"/>							                              
                                                                    </div>
                                                                </div>
                                                            </a>
                                                            
                                                        </div>
                                                    </div>
                                                    </div> -->
                                            </div>
                                        </t>
                                    </div>
                                </div>
                            </section>
                            <!--sh_compan-->
                            <!--shop_category_1-->
                            <section t-if="website.category_style and website.category_style=='style3'"  id="shop_category_1">
                                <div class="container">
                                    <div class="row">
                                        <div class="sh_title">
                                            <div class="sh_description">
                                            </div>
                                            <h2>categories</h2>
                                        </div>
                                        <t t-if="product_category" t-foreach="product_category" t-as="rec">
                                            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-6">
                                                <a t-att-href="'/shop/category/%s' % (rec.id)">
                                                    <div class="shop_cate">
                                                        <div class="img_box">
                                                            <img t-if="rec.image_128" t-attf-src="data:image/gif;base64, #{rec.image_128}" alt="rec.name"/>
                                                            <img t-if="not rec.image_128" src="/sh_website_category_page/static/src/img/default.png" alt="Default Image"/>															
                                                        </div>
                                                        <div class="sh_text">
                                                            <h4><span t-if="rec.name" t-field="rec.name"/></h4>
                                                        </div>
                                                        <div class="cate_menu">
                                                            <div class="menu_title">
                                                                <span t-if="rec.name" t-field="rec.name"/>
                                                            </div>
                                                            <p class="site_cate" t-if="rec.description" t-field="rec.description" />
                                                        </div>
                                                    </div>
                                                </a>
                                            </div>
                                        </t>
                                    </div>
                                </div>
                            </section>
                            <!--shop_category_1-->
                            <!--shop_category_ 4 -->
                            <section t-if="website.category_style and website.category_style=='style4'" >
                                <div class="container">
                                    <div class="sh_title">
                                        <div class="sh_description">
                                        </div>
                                        <h2>categories</h2>
                                    </div>
                                    <div class="row">
                                        <t t-if="product_category" t-foreach="product_category" t-as="rec">
                                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-xs-12">
                                                <a t-att-href="'/shop/category/%s' % (rec.id)">
                                                    <p class="sh_gradient">	
                                                        <span t-if="rec.name" t-field="rec.name"/> 
                                                    </p>
                                                </a>
                                            </div>
                                        </t>
                                    </div>
                                </div>
                            </section>
                            <!--shop_category_4-->										
                        </div>
                    </t>
                </t>
            </field>
        </record>
    </data>
</odoo>